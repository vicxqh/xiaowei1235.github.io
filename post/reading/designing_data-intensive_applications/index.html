<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>《数据密集型应用系统设计》笔记 - 萧七海的博客</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="萧七海" />
  <meta name="description" content="" />

  <meta name="keywords" content="Hugo, theme, jane, 萧七海, 博客, 技术, IT, 分布式, 存储" />






<meta name="generator" content="Hugo 0.61.0" />


<link rel="canonical" href="http://auntlei.com/post/reading/designing_data-intensive_applications/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.0995afa14b62cd93e93cfc066b646c4c17a3eddca0e9d52a1d9dcf5d90aaacd3.css" integrity="sha256-CZWvoUtizZPpPPwGa2RsTBej7dyg6dUqHZ3PXZCqrNM=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="《数据密集型应用系统设计》笔记" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://auntlei.com/post/reading/designing_data-intensive_applications/" />
<meta property="article:published_time" content="2020-04-15T09:49:17+08:00" />
<meta property="article:modified_time" content="2020-04-15T09:49:17+08:00" />
<meta itemprop="name" content="《数据密集型应用系统设计》笔记">
<meta itemprop="description" content="">
<meta itemprop="datePublished" content="2020-04-15T09:49:17&#43;08:00" />
<meta itemprop="dateModified" content="2020-04-15T09:49:17&#43;08:00" />
<meta itemprop="wordCount" content="4809">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="《数据密集型应用系统设计》笔记"/>
<meta name="twitter:description" content=""/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">萧七海的博客</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://auntlei.com/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://auntlei.com/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://auntlei.com/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://auntlei.com/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://auntlei.com/about/">About</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      萧七海的博客
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://auntlei.com/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://auntlei.com/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://auntlei.com/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://auntlei.com/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://auntlei.com/about/">About</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">《数据密集型应用系统设计》笔记</h1>
      
      <div class="post-meta">
        <time datetime="2020-04-15" class="post-time">
          2020-04-15
        </time>
        
        

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#-">第一部分 数据系统基础</a>
      <ul>
        <li><a href="#1-">第1章 可靠、可扩展与可维护的应用系统</a></li>
        <li><a href="#2-">第2章 数据模型与查询语言</a></li>
        <li><a href="#3-">第3章 数据存储与检索</a></li>
        <li><a href="#4-">第4章 数据编码与演化</a></li>
      </ul>
    </li>
    <li><a href="#--">第二部分 分布式数据系统 （本书精华，对实践具有一定的指导意义）</a>
      <ul>
        <li><a href="#5-">第5章 数据复制</a></li>
        <li><a href="#6-">第6章 数据分区</a></li>
        <li><a href="#7-">第7章 事务</a></li>
        <li><a href="#8-">第8章 分布式系统的挑战</a></li>
        <li><a href="#9-">第9章 一致性与共识</a></li>
      </ul>
    </li>
    <li><a href="#--1">第三部分 派生数据</a>
      <ul>
        <li><a href="#10-">第10章 批处理系统</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <p>这本书互联网从业者实践意义巨大，强烈推荐。</p>
<h2 id="-">第一部分 数据系统基础</h2>
<h3 id="1-">第1章 可靠、可扩展与可维护的应用系统</h3>
<p>当今许多新型应用都属于数据密集型( data-intensi ve)，而不是计算密集型 (compute-intensive)。对于这些类型应用， CPU的处理能力往往不是第一限制性因素，关键在于数据量、数据的复杂度及数据的快速多变性。</p>
<p>设计这类系统需要考虑三类问题：</p>
<ul>
<li>可靠性（Reliability）。当出现意外情况如硬件、软件故障、人为失误等，系统应可以继续正常运转:虽然性能可能有所降低，但确保功能正确。</li>
<li>可扩展性 (Scalability)。随着规模的增长 ，例如数据量 、流量或复杂性，系统应以合理的方式来匹配这种增长。</li>
<li>可维护性 (Maintainability)。随着时间的推移，许多新的人员参与到系统开发和运维， 以维护现有功能或适配新场景等，系统都应高效运转。</li>
</ul>
<p><strong>既然我们已经明确了设计目标，那么怎么检测我们的系统是否满足这三个特性呢？我认为系统监控是检验的核心，我们需要有办法了解系统是否按照我们期望的方式运行。而监控的第一步就是要<em>明确衡量指标</em>，比如系统占用了多少资源（CPU，内存，磁盘）、响应时间（p50,p99,p999)等。只有当监控指标明确之后，我们才能检测系统在出错下是否可靠，是否具备横向/纵向的可扩展能力。监控对于可维护性来说则更为重要，监控能增强运维改动的信心，及时发现问题。</strong></p>
<h3 id="2-">第2章 数据模型与查询语言</h3>
<p>TODO: 这部分关于各种数据模型的介绍，尤其是图数据模型没有看明白</p>
<h3 id="3-">第3章 数据存储与检索</h3>
<p>数据库最基本的两个能力是插入时能保存数据，并且在以后的查询中能返回这些数据。</p>
<p>数据库采用的数据结构决定了其读写性能及空间利用率。对于写入，顺序写入的性能往往比随机写入高出几个数量级。因为操作系统能对外部存储的大块区域进行缓存，因此顺序/随机读取的性能不如写入影响那么明显。</p>
<h4 id="heading">数据结构</h4>
<p><strong>哈希索引</strong></p>
<p>假设数据存储全部采用追加式文件组成，那么最简单的索引策略就是: 保存内存中的hash map，把每个键一一映射到数据文件中特定的字节偏移量，这样就可以找到每个值的位置。如果数据文件有多份，那么对应在内存中也就可能有多份hash map。</p>
<p>这种方式比较适合更新频繁的场景但是不能解决范围查询的问题。</p>
<p><strong>SSTables和LSM-tree</strong></p>
<p>要解决范围查询，将哈希索引转换成一种有序的数据结构，比如红黑树。如果数据文件中的记录也是排序的，那么将数据文件中的键稀疏地映射到内存中，就可以通过内存中的索引查找到给定key在数据文件中的可能范围。配合WAL可以保证写入先缓存在内存中，然后一次将整个sstable写入文件（追加）。为提升查询效率，可以使用布隆过滤器。</p>
<p>LSM-tree合并有两种方式，size-tiered compaction 与 leveled compaction 书中解释得不够清晰，补充在这里：</p>
<ul>
<li>size-tiered compaction是指将SSTable分为多个阶梯（tier）每个阶梯有固定数目（sized)的sstable文件，当一个阶梯的sstable数量达到size大小时，将他们compact成一个更大的sstable并放到下一个tier，如果下一个tier的数目达到阈值则继续compact。</li>
<li>leveled compaction: rocksdb的这篇文章介绍得很清楚https://github.com/facebook/rocksdb/wiki/Leveled-Compaction
基本思想时，将sstable分成不同的level，并且每个level内的sstable 范围互不重叠。而单个sstable大小固定，不同的level总大小递增，因此level越高的层，具有越多的sstable。因为sstable的大小固定，所以当上层的sstable与下层的sstable合并时，可能会产生新的sstable，当一层的数据总大小超过限制时，会从中选择一个（随机？）sstable合并到下一层。</li>
</ul>
<p><strong>B tree</strong></p>
<p>B+tree 使用很常见了。如果是in-place修改就使用WAL，append-only可以不使用WAL。</p>
<p><strong>其他索引</strong></p>
<ul>
<li>
<p>聚簇索引</p>
<blockquote>
<p>索引和数据存储在一块（ 都存储在同一个B*tree 中）。
一般主键索引都是聚餐索引</p>
</blockquote>
</li>
<li>
<p>非聚簇索引</p>
<blockquote>
<p>索引数据和存储数据是分离的。</p>
</blockquote>
</li>
<li>
<p>二级索引（辅助索引）</p>
<blockquote>
<p>二级索引存储的是记录的主键，而不是数据存储的地址。</p>
</blockquote>
</li>
<li>
<p>多列索引</p>
<blockquote>
<p>同时为多列建立索性，传统的b tree， lsm都不能解决这个问题，需要专门的结构。</p>
</blockquote>
</li>
</ul>
<h4 id="heading-1">数据处理与分析处理</h4>
<p><img src="https://xiaoqihai.oss-cn-shanghai.aliyuncs.com/img/20200416161154.png" alt=""></p>
<h4 id="heading-2">列式存储</h4>
<p>在分析处理过程（大数据处理）虽然一个记录可能有上百列，但是单次分析需要的数据通常就其中的三四列。因此按列存储能提升查询性能，并且由于列的值域可能小于行数（或者列与列之间重复的内容比较多），因此也容易做压缩。</p>
<h3 id="4-">第4章 数据编码与演化</h3>
<h4 id="heading-3">数据编码（序列化）</h4>
<ul>
<li>编程语言特定的编码仅限于某一种编程语言，往往无法提供向前和向后兼容性。</li>
<li>JSON、 XML和csv等文本格式非常普遍，其兼容性取决于你如何使用他们。这些格式对某些数据类型的支持有些模糊，**必须小心处理数字（比如json的精度问题）**和二进制字符串等问题。</li>
<li>像Thrift、 Protocol Buffers和Avro这样的二进制的模式驱动格式，支持使用清晰定义的向前和向后兼容性语义进行紧凑、高效的编码。这些模式对于静态类型语言中的文档和代码生成非常有用。然而，它们有一个缺点，即只有在数据解码后才是人类可读的。</li>
</ul>
<p>在编码向前、向后兼容的时候，对新增字段有一个需要特别注意的地方。当新版本增加了一个字段假设为F，虽然老版本的程序在反序列化是会忽略这个值（向后兼容），但是在写回时得务必小心，防止丢弃数据（F的值变为了默认值）。</p>
<h4 id="heading-4">数据流的传输方式</h4>
<ul>
<li>
<p>数据库，其中写入数据库的进程对数据进行编码，而读取数据库的进程对数据进</p>
<p>行解码。</p>
</li>
<li>
<p>RPC和REST API，其中客户端对请求进行编码，服务器对请求进行解码井对响</p>
<p>应进行编码，客户端最终对响应进行解码。</p>
</li>
<li>
<p>异步消息传递(使用消息代理或Actor)，节点之间通过互相发送消息进行通 信，消息由发送者编码并由接收者解码</p>
</li>
</ul>
<p>其中对于消息代理方式，其好处表现为：</p>
<ul>
<li>如果接收方不可用或过载，它可以充当缓冲区，从而提高系统的可靠性。</li>
<li>它可以自动将消息重新发送到崩愤的进程，从而防止消息丢失 。 (<strong>这个不是免费的，要自己想办法实现，保证消息在生产、传递、消费的各个环节中的可靠性。但是可靠性的保证不外乎就是事务的支持，以及在重复处理时的幂等问题</strong>)</li>
<li>它在逻辑上将发送方与接收方分离，解耦</li>
<li>它支持将 一 条消息发送给多个接收方。</li>
</ul>
<h2 id="--">第二部分 分布式数据系统 （本书精华，对实践具有一定的指导意义）</h2>
<h3 id="5-">第5章 数据复制</h3>
<h4 id="heading-5">按角色定位分</h4>
<p>按照节点的角色不同，分为：</p>
<ul>
<li>主从复制：只有主节点接收写请求。</li>
<li>多主复制：有多个主节点，主节点都可以接收写请求。</li>
<li>无主复制：所有节点都是主节点。</li>
</ul>
<p>其中，最常见的是主从复制。通过从节点来提升系统整体的读性能。但是这种方式在业务跨多数据中心时，如果让所有的写入都定打到到一个数据中心可能达不到业务需求。因此对于多数据中心常常使用多主复制的策略。如下图</p>
<p><img src="https://xiaoqihai.oss-cn-shanghai.aliyuncs.com/img/20200417145230.png" alt=""></p>
<p>在单个数据中心内使用主从复制，但是多数据中心使用多主的策略。</p>
<p>而无主复制更为极端，所有的节点都没有主从之分，常见于多人协同在线文档的场景等。</p>
<h4 id="heading-6">数据复制方式</h4>
<p>从时效性上可以分为：</p>
<ul>
<li>同步复制 接收写入的节点要等到指定个（不一定是所有）节点完成复制之后才向客户端返回结果</li>
<li>异步复制 接收写入的节点完成修改后立即向客户端发挥结果，之后再将修改发送到其他节点。</li>
</ul>
<p>同步复制虽然更容易保证数据的一致性，但是由于复制的延迟问题，会使得整个系统的写入变慢，尤其当有多个同步复制的节点时。所以在实践中，哪怕是主从复制，也不会将所有的从节点都配置成同步复制。</p>
<p><strong>复制日志的实现</strong></p>
<ul>
<li>基于语句复制。几乎不用，因为有些语句比如Now()在重放时，每个节点都可能有不同的值</li>
<li>基于WAL。有很多软件使用。如果WAL描述的是物理介质上某偏移字节的修改，那么这种复制方式在跨软件版本时可能有问题。比如不能实现软件版本的滚动升级。</li>
<li>基于行的逻辑日志复制。复制和存储引擎采用不同的日志格式，这样复制与存储逻辑剥离。MySQL的binlog就属于这种方式。</li>
<li>基于触发器。数据库软件支持一些触发器（比如onCommit)，可以在这些触发器中实现自定义的复制逻辑。虽然定制化程度高，但是容易出错。</li>
</ul>
<h4 id="heading-7">复制的问题</h4>
<p>所有这些问题都没有很好的解决方案，是设计时的权衡。因此一定要仔细考虑服务在各种意外场景下的表现行为，并和所有关联方进行确认。保证数据的一致性是后面章节的内容，这里没有特别通用的方法</p>
<p><strong>数据丢失</strong></p>
<p><strong>读滞后</strong></p>
<p>用户在主节点写入，紧接着从从节点读取。从节点可能还没有完成数据复制。解决方案可能是“读自己写”</p>
<p><strong>写冲突</strong></p>
<h3 id="6-">第6章 数据分区</h3>
<p>分区通常与复制结合使用，即每个分区在多个节点都存有副本。分区主要是为了提升海量数据的读<strong>写</strong>性能。如果分区负载均匀，那么可以成分区倍数地提升系统的读写吞吐量，但是如果分区不均，则可能少数节点承载了系统的多数请求，出现倾斜的现象。</p>
<p>分区有两种方式：</p>
<ul>
<li>基于区间。容易出现热点，但是方便实现区间查询</li>
<li>基于哈希值。流量更随机，但区间查询效率不高</li>
</ul>
<p>如果涉及二级索引，根据其是否和数据分区规则一致又可以分为两种方式：</p>
<ul>
<li>本地索引。二级索引存储在与关键字相同的分区中 ，这意味着写入时我们只需要更新一个分区，但缺点是读取二级索引时需要在 所有分区上执行 scatter/gather。</li>
<li>全局索引。它是基于索引的值而进行的独立分区。 二级索引中的条目可能包含来自关键字的多个分区里的记录。在写入时 ，不得不更新二级索引的多个分区;但读取时 ，则可以从单个分区直接快速提取数据。</li>
</ul>
<h3 id="7-">第7章 事务</h3>
<h4 id="heading-8">事务的定义不够精确</h4>
<p>提到事务，大家都知道ACID，对应：</p>
<ul>
<li>Atomicity（原子性)）指的是All or Nothing，即事务中的所有更新要么都发生、要么都不发生。它并不关乎多个操作的并发性，它并没有描述多个线程试图访问相同的数据会发生什么情况，后者其实是由 ACID的<strong>隔离性</strong>所定义。</li>
<li>Consistency（一致性）指对数据有特定的预期状态，任何数据更改必须满足这些 状态约束(或者恒等条件)。例如，对于一个账单系统，账户的贷款余额应和借款余 额保持平衡。如果某事务从一个有效的状态开始，并且事务中任何更新操作都没有违背约束，那么最后的结果依然符合有效状态。但这实际上是一种应用层的状态约束，不是数据库可以保证的。</li>
<li>Isolation（隔离性）并发执行的多个事务相互隔离，它们不能互相交叉。但是这并不意味着事务之间的执行就好比是串行化执行一样，这其中又分为多种不同的“弱隔离级别”</li>
<li>Durability（持久性）一 且事务提交成功，即使存在硬件故障或数据库崩愤，事务所 写入的任何数据也不会消失。</li>
</ul>
<h4 id="weak-isolation-levels">弱隔离级别（Weak Isolation Levels）</h4>
<p>这部分作者的规律有些不清晰，以后再补充</p>
<h3 id="8-">第8章 分布式系统的挑战</h3>
<p>这张主要阐述三类问题对分布式系统带来的挑战：</p>
<ul>
<li>网络不可靠。数据包可能会丢失或者延迟。当没有收到对方节点回应时，也不能确定消息是否送达，因此消息也可能存在重放的问题。</li>
<li>时钟不同步。由于网络延迟的不确定性，通过NTP服务也不能保证节点间的时钟同步。另外由于节点时钟频率可能和NTP服务器的时钟频率存在差异，可能在节点上观测到时钟先前或者先后的跳跃。如果需要在单节点上测量时间差，可以使用线性时间。时钟的不同步，使得我们不可能简单地靠时间戳来判断事件发生的先后顺序。</li>
<li>进程可能在执行的任意时刻暂停任意时长。比如一些语言的垃圾回收器会Stop The World，或者位于虚拟机中的容器可能被宿主机暂停任意时长。</li>
</ul>
<h3 id="9-">第9章 一致性与共识</h3>
<p>本章主要是还是概念性的知识。（TODO）</p>
<h2 id="--1">第三部分 派生数据</h2>
<p>第三部分整体看起来别扭，可能和翻译质量有关。这部分总结比较少。</p>
<h3 id="10-">第10章 批处理系统</h3>
<p>介绍了map-reduce的基本思想及开源软件库Hadoop的相应功能介绍。</p>
<p>第11章 流处理系统</p>
<p>介绍了消息队列相关的知识，其它关于流的理论性知识对实践的意义不大。由于后面会看Kafka相关的书籍，这里不做太多总结。</p>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">萧七海</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2020-04-15
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/middleware/redis/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">Redis 学习笔记</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/reading/network_programming_with_go/">
            <span class="next-text nav-default">《Network Programming with Go by Jan Newmarch》</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:xiaowei1235@gmail.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>


<a href="http://auntlei.com/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2019 -
    2021
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        萧七海
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
